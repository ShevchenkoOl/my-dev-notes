// –î–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è MongoDB –¥–æ –Ω–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É –≤–∏–∫–æ—Ä–∏—Å—Ç—É–≤—É–µ–º–æ:
//  - npm i mongodb - —Ü–µ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π –ø–∞–∫–µ—Ç;
//  - npm i mongoose - —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø–∞–∫–µ—Ç.

import express from "express";
import mongoose from "mongoose";

// const HOST_DB = "mongodb+srv://iteduka:vw0KIIHyyBqAkO57@cluster0.pupubo1.mongodb.net/feedback_iteduka?retryWrites=true&w=majority&appName=Cluster0"; // –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ —Å–ª–µ—à–∞ —ñ –ø–µ—Ä–µ–¥ –∑–Ω–∞–∫–æ–º –ø–∏—Ç–∞–Ω–Ω—è –º–∏ –ø—Ä–æ–ø–∏—Å—É—î–º–æ —ñ–º'—è –±–∞–∑–∏ –≤ –¥–∞–Ω–æ–º—É –≤–∏–ø–∞–¥–∫—É —Ü–µ feedback_iteduka
// —è–∫—â–æ –º–∏ –Ω–∞–ø–∏—à–∏–º–æ –Ω–∞–∑–≤—É –±–∞–∑–∏ —è–∫–æ—ó –Ω–µ —ñ—Å–Ω—É—î, —Ç–æ –ø–æ–º–∏–ª–∫–∏ –Ω–µ –±—É–¥–µ, –ø—Ä–æ—Å—Ç–æ –≤—ñ–Ω —ó—ó —Å–∞–º —Å—Ç–≤–æ—Ä–∏—Ç—å —ñ –ø—ñ–¥–∫–ª—é—á–∏—Ç—å—Å—è
// –ø–∞—Ä–æ–ª—ñ —ñ —ñ–Ω—à—ñ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –¥–∞–Ω–Ω—ñ –∑–∞–±–æ—Ä–æ–Ω—è—î—å–±—Å—è –∑–±–µ—Ä—ñ–Ω–∞—Ç–∏ –Ω–∞ GitHub —Ç–æ–º—É —Ü—ñ–ª—É –∞–ª—Ä–µ—Å—É –º–∏ –ø–µ—Ä–µ–Ω–µ—Å–µ–º –≤ –Ω–∞–ª–∞–≥—Ç—É–≤–∞–Ω–Ω—è Render - Environment - +Add - new variable - key HOST_DB - value mongodb+srv://iteduka:vw0KIIHyyBqAkO57@cluster0.pupubo1.mongodb.net/feedback_iteduka?retryWrites=true&w=majority&appName=Cluster0  —ñ –ø–µ—Ä–µ–ø–∏—Å—É—î–º–æ –Ω–∞—à—É –∑–º—ñ–Ω–Ω—É:

const {HOST_DB, PORT} = process.env; // –∞–±–æ –±–µ–∑ –¥–∏—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó const HOST_DB = process.env.HOST_DB;
// –∑–∞–≤–¥—è–∫–∏ —Ü—ñ—î—ó –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –Ω–∞—à —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—ó–¥—É, –∞–ª–µ –Ω–∞ –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É –∑–º—ñ–Ω–∞ HOST_DB –±—É–¥–µ underfined, —Ç–æ–º—É –≤ –∫–æ–Ω—Ä–Ω—ñ –Ω–∞—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ñ–∞–π–ª .env —ñ –ø–æ–º—ñ—à–∞—î–º–æ —Ç—É–¥–∏ HOST_DB = mongodb+srv://iteduka:vw0KIIHyyBqAkO57@cluster0.pupubo1.mongodb.net/feedback_iteduka?retryWrites=true&w=majority&appName=Cluster0, —Å—é–¥–∏ –º–æ–∂–µ–º–æ —à–µ –¥–æ–¥–∞—Ç–∏ PORT = 3000, –ø—ñ—Å–ª—è —á–æ–≥–æ –¥–æ–±–∞–≤–ª—è—î–∏–æ —Ñ–∞–π–ª .env –≤ .gitignore, –∫—Ä—ñ–∏ —Ü—å–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É npm install dotenv —ñ –¥–æ–¥–∞—î–º —ñ–º–ø–æ—Ä—Ç:
// import dotenv from "dotenv";
// dotenv.config();               // –∞–±–æ require("dotenv").config();
// –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —á–∏ –≤—ñ—Ä–Ω–æ –≤–∫–∞–∑–∞–Ω–∏–π —ñ–º–ø–æ—Ä—Ç:
// console.log(process.env.PORT);    // –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ 3000 - —Ü–µ —Ç–µ —â–æ –∑–∞–ø–∏—Å–∞–Ω–æ –≤ —Ñ–∞–π–ª—ñ .env
// console.log(process.env.API_KEY); // –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ 12345 - - —Ü–µ —Ç–µ —â–æ –∑–∞–ø–∏—Å–∞–Ω–æ –≤ —Ñ–∞–π–ª—ñ .env

mongoose
  .connect(HOST_DB) // –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –ø–æ–≤–µ—Ä—Ç–∞—î–º–ª—Å—è –¥–æ –≤–µ–± –≤–µ—Ä—Å—ñ—ó MongoDB - –°onnect - Driver - —ñ –∫–æ–ø—ñ—Ä—É—î–º–æ url, –Ω–µ–∑–∞–±—É–≤–∞.—á–∏ –≤—Å—Ç–∞–≤–∏—Ç–∏ –ø–∞—Ä–æ–ª—å
  .then(() => {
    const app = express();
    app.listen(PORT, () => console.log("The srvere running on the port 3000"));
  }) // —è–∫—â–æ —É—Å–ø—ñ—à–µ–æ –ø—ñ–¥–∫–ª—é—á–∏–ª–∏—Å—è —Ç–æ –º–∏ –ø—ñ–¥–∫–ª—é—á–∞—î–º–æ –Ω–∞—à –≤–µ–± —Å–µ—Ä–≤–µ—Ä
  .catch((error) =>{
    console.log(error.message)
    process.exit(1) // –∑–∞–∫—Ä–∏–≤–∞—î –∑–∞–ø—É—â–µ–Ω–Ω—ñ –ø—Ä–æ—Ü–µ—Å–∏
}); // —è–∫—â–æ –Ω–µ —É—Å–ø—ñ—à–µ–æ –ø—ñ–¥–∫–ª—é—á–∏–ª–∏—Å—è

// –ö–æ–ª–∏ —É —Ç–µ–±–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Node.js —ñ –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –∑ MongoDB, —î –¥–≤–∞ —Ä—ñ–∑–Ω—ñ —Ä—ñ–≤–Ω—ñ:
//    - –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç—É (Node.js, Express —ñ —Ç.–¥.) ‚Äì —Ç–∏ –π–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞—î—à —É GitHub/GitLab. –¶–µ –º—ñ—Å—Ü–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∫–æ–¥—É, –∞–ª–µ Git —Å–∞–º –ø–æ —Å–æ–±—ñ –Ω–µ –∑–∞–ø—É—Å–∫–∞—î —Ç–≤–æ—é –ø—Ä–æ–≥—Ä–∞–º—É. –¢–æ–±—Ç–æ, —è–∫—â–æ –∑–∞–ª–∏—Ç–∏ –∫–æ–¥ —Ç—ñ–ª—å–∫–∏ –≤ Git ‚Äì –≤—ñ–Ω –ª–µ–∂–∞—Ç–∏–º–µ —Ç–∞–º —è–∫ –∞—Ä—Ö—ñ–≤, –∞–ª–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ (–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ HTTP-–∑–∞–ø–∏—Ç–∏) –Ω–µ –±—É–¥–µ;
//    - –•–æ—Å—Ç–∏–Ω–≥/—Å–µ—Ä–≤–µ—Ä (Render, Vercel, Railway, Heroku —ñ —Ç.–¥.) ‚Äì —Ü–µ –≤–∂–µ –º—ñ—Å—Ü–µ, –¥–µ —Ç–≤—ñ–π –∫–æ–¥ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —ñ –ø–æ—Å—Ç—ñ–π–Ω–æ –ø—Ä–∞—Ü—é—î. –¢—É–¥–∏ –ø—ñ–¥—Ç—è–≥—É—î—Ç—å—Å—è –∫–æ–¥ –∑ Git —ñ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —è–∫ —Å–µ—Ä–≤—ñ—Å (Node.js –ø—Ä–æ—Ü–µ—Å).

// Render –±–µ—Ä–µ —Ç–≤—ñ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∑ GitHub, —Ä–æ–±–∏—Ç—å –¥–µ–ø–ª–æ–π (–∑–±–∏—Ä–∞—î, –∑–∞–ø—É—Å–∫–∞—î, –¥–∞—î —Ç–æ–±—ñ –¥–æ–º–µ–Ω).
// –¢–æ–¥—ñ —Ç–≤—ñ–π –±–µ–∫–µ–Ω–¥ "–∂–∏–≤–µ" –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ —ñ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è –¥–æ MongoDB.

// ‚ö° –ß–æ–º—É –Ω–µ –º–æ–∂–Ω–∞ –æ–±–º–µ–∂–∏—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ Git:
//    - GitHub = —Å—Ö–æ–≤–∏—â–µ –∫–æ–¥—É (—è–∫ —Ñ–ª–µ—à–∫–∞ –∑ —ñ—Å—Ç–æ—Ä—ñ—î—é).
//    - Render = —Å–µ—Ä–≤–µ—Ä, –¥–µ –∫–æ–¥ —Ä–µ–∞–ª—å–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.
// –û—Ç–∂–µ: 
//     - –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º: https://dashboard.render.com/;
//     - –∞–≤—Ç–æ—Ä–∏–∑—É–∂–º–æ—Å—è - + Add New - Web Services;
//     - Connect Git provider - GitHub;


// –Ñ —â–µ –æ–¥–∏–Ω —Å–ø–æ—Å—ñ–± –ø—Ä–∏—î–¥–≥–∞—Ç–∏—Å—è –¥–æ –ë–î:
// const main = async() => {
//     try {
//         await mongoose.connect(process.env.DB_URI); // –º–µ—Ç–æ–¥ —è–∫–∏–π –¥–æ–ø–æ–º–æ–≥–∞—î –ø—ñ–¥–∂–¥–Ω–∞—Ç–∏—Å—è –¥–æ –ë–î
//         console.log("Connected to Mongo DB");
//     } catch (error) {      // –æ–±—Ä–æ–±–ª—è—î–º–æ –ø–æ–º–∏–ª–∫—É –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
//         console.log("–ü–æ–º–∏–ª–∫–∞", error.message)
//     }
// }

// main()
// –∞–±–æ –ø–æ–º–∏–ª–∫—É –æ–±—Ä–æ–±–ª—è—î–∏–æ —å—ñ–ª—å–∫–∏ –ø—Ä–∏ –≤–∏–∑–æ–≤—ñ, —Ç–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –Ω–µ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ –º–æ–∂–Ω–∞ –≤—ñ–¥—Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏:
const main = async() => {
        await mongoose.connect(process.env.DB_URI); // –º–µ—Ç–æ–¥ —è–∫–∏–π –¥–æ–ø–æ–º–æ–≥–∞—î –ø—ñ–¥–∂–¥–Ω–∞—Ç–∏—Å—è –¥–æ –ë–î
        console.log("Connected to Mongo DB");
}

main().catch(console.log("–ü–æ–º–∏–ª–∫–∞", error.message))
// mongodb+srv://iteduka:vw0KIIHyyBqAkO57@cluster0.pupubo1.mongodb.net/

// –û–¥–Ω—ñ—î—é –∑ –ø–µ—Ä–µ–≤–∞–≥ ODM Mongoose —î —Ç–µ, —â–æ –¥–∞–Ω—ñ –º–æ–∂–Ω–∞ –æ–ø–∏—Å–∞—Ç–∏ –ø–µ–≤–Ω–æ—é —Å—Ö–µ–º–æ—é. –ï–∫—Å–ø–æ—Ä—Ç—É—î–º–æ –∫–ª–∞—Å Schema
// const Schema = mongoose.Schema;
// –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ö–µ–º—É
// const cats = new Schema({
// nickname: String,
// age: Number,
// });
// required: –≤–∏–º–∞–≥–∞—î –æ–±–æ–≤'—è–∑–∫–æ–≤–æ—ó –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
// min —Ç–∞ max: –∑–∞–¥–∞—é—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è —á–∏—Å–ª–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
// minlength —Ç–∞ maxlength: –∑–∞–¥–∞—é—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –¥–æ–≤–∂–∏–Ω—É –¥–ª—è —Ä—è–¥–∫—ñ–≤
// enum: —Ä—è–¥–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç–∏ –æ–¥–Ω–µ –∑—ñ –∑–Ω–∞—á–µ–Ω—å —É –∑–∞–∑–Ω–∞—á–µ–Ω–æ–º—É –º–∞—Å–∏–≤—ñ —Ä—è–¥–∫—ñ–≤ enum: ["Histoty", "Action"], enum: [1, 0]
// match: —Ä—è–¥–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤–∏—Ä–∞–∑—É match: /^[A-Z]{1.1}[a-zA-Z\s]+$/ - –ø–µ—Ä—à–∞ –ª—ñ—Ç–µ—Ä–∞ –≤–µ–ª–∏–∫–∞ —ñ –≤–æ–Ω–∞ –æ–¥–Ω–∞, –ø–æ—Ç—ñ–º –ª—é—å—ñ –æ—ñ—Ç–µ—Ä–∏ —ñ –º—ñ–∂ –Ω–∏–º–∏ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–æ–±—ñ–ª. email - match: /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/, phone-number match: /^\+\d{3}\s\d{3}-\d{3}-\d{3}$/ - –ø–æ—Å–∏–Ω–∞—î—Ç—å—Å—è + –ø–æ—Ç—ñ–º 3 —Ü–∏—Ñ—Ä–∏, –ø—Ä–æ–±—ñ–ª, —Ç—Ä–∏ —Ü–∏—Ñ—Ä–∏ —Ç–∏—Ä–µ, —Ç—Ä–∏ —Ü–∏—Ñ—Ä–∏ —Ç–∏—Ä–µ, —Ç—Ä–∏ —Ü–∏—Ñ—Ä–∏ —Ç–∏—Ä–µ.
// default: —è–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–∫–∞–∂–µ–º–æ —Ç–æ —Ü–µ –∑–Ω–∞—á–µ–Ω–Ω—è –±—É–¥–µ –ø–æ –∑–ø–º–∞–æ–≤—á–∫–≤–∞–Ω–Ω—é    

// mongoose.model() —É Mongoose –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å—Ö–µ–º–∏.
//üîπ –°—Ö–µ–º–∞ (Schema) –æ–ø–∏—Å—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ —É –∫–æ–ª–µ–∫—Ü—ñ—ó MongoDB ‚Äî —è–∫—ñ –ø–æ–ª—è —î, —ó—Ö–Ω—ñ —Ç–∏–ø–∏, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–æ—â–æ.
//üîπ –ú–æ–¥–µ–ª—å (Model) ‚Äî —Ü–µ "–∫–ª–∞—Å", –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —è–∫–æ–≥–æ —Ç–∏ –≤–∂–µ –ø—Ä–∞—Ü—é—î—à –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é –∫–æ–ª–µ–∫—Ü—ñ—î—é: —Ä–æ–±–∏—à find, create, update, delete.
// mongoose.model("–Ω–∞–∑–≤–∞ –º–æ–¥–µ–ª—ñ", chema —è–∫–∞ –±—É–¥–µ –∑–∞—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è);
//–¥–∞–Ω—É –º–æ–¥–µ–ª—å –º–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è:
//     1. —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
// book.create({title: "Harry Potter", author: "Tom Cruise"})
